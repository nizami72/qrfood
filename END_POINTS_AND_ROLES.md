# Controller Roles

| Class Name and Method                                                                                                                    | Current Role                                       | URL Path                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|-----------------------------------------------------------------------|
| **AdminController**                                                                                                                      |                                                    |                                                                       |
| [POST postAdmin(UserRequest)](src/main/java/az/qrfood/backend/user/controller/AdminController.java)                                      | EATERY_ADMIN                                       | /api/admin                                                            |
| [POST postEateryAdminUser(RegisterRequest)](src/main/java/az/qrfood/backend/user/controller/AdminController.java)                        | EATERY_ADMIN                                       | /api/admin/eatery                                                     |
| [DELETE deleteUser(Long)](src/main/java/az/qrfood/backend/user/controller/AdminController.java)                                          | EATERY_ADMIN                                       | /api/user/{userId}                                                    |
| [POST impersonateUser(Long, Authentication)](src/main/java/az/qrfood/backend/user/controller/AdminController.java)                       | EATERY_ADMIN                                       | /api/admin/impersonate/{userId}                                       |
| **AliveController**                                                                                                                      |                                                    |                                                                       |
| [GET test()](src/main/java/az/qrfood/backend/alive/controller/AliveController.java)                                                      | Public                                             | /api/alive                                                            |
| **AuthController**                                                                                                                       |                                                    |                                                                       |
| [POST login(LoginRequest)](src/main/java/az/qrfood/backend/auth/controller/AuthController.java)                                          | Public                                             | /api/auth/login                                                       |
| [GET status()](src/main/java/az/qrfood/backend/auth/controller/AuthController.java)                                                      | Authenticated                                      | /api/auth/status                                                      |
| [POST refreshToken(Map\<String, Long\>)](src/main/java/az/qrfood/backend/auth/controller/AuthController.java)                            | Authenticated                                      | /api/auth/refresh                                                     |
| [POST logout()](src/main/java/az/qrfood/backend/auth/controller/AuthController.java)                                                     | Authenticated                                      | /api/auth/logout                                                      |
| **CategoryController**                                                                                                                   |                                                    |                                                                       |
| [GET getEateryCategories(Long)](src/main/java/az/qrfood/backend/category/controller/CategoryController.java)                             | EATERY_ADMIN, KITCHEN_ADMIN, WAITER, CASHIER       | /api/eatery/{eateryId}/category                                       |
| [GET getCategoryById(Long)](src/main/java/az/qrfood/backend/category/controller/CategoryController.java)                                 | EATERY_ADMIN, KITCHEN_ADMIN, WAITER, CASHIER       | /api/eatery/{eateryId}/category/{categoryId}                          |
| [POST createDishCategory(Long, CategoryDto, MultipartFile)](src/main/java/az/qrfood/backend/category/controller/CategoryController.java) | EATERY_ADMIN                                       | /api/eatery/{eateryId}/category                                       |
| [POST createDishCategoryNoImage(Long, CategoryDto)](src/main/java/az/qrfood/backend/category/controller/CategoryController.java)         | EATERY_ADMIN                                       | /api/eatery/{eateryId}/category/predefined                            |
| [DELETE deleteCategory(Long)](src/main/java/az/qrfood/backend/category/controller/CategoryController.java)                               | EATERY_ADMIN                                       | /api/eatery/{eateryId}/category/{categoryId}                          |
| [PUT updateCategory(Long, CategoryDto, MultipartFile)](src/main/java/az/qrfood/backend/category/controller/CategoryController.java)      | EATERY_ADMIN                                       | /api/eatery/{eateryId}/category/{categoryId}                          |
| [GET getCommonCategories()](src/main/java/az/qrfood/backend/category/controller/CategoryController.java)                                 | EATERY_ADMIN                                       | /api/category/common                                                  |
| **ClientDeviceController**                                                                                                               |                                                    |                                                                       |
| [GET eateryCategories(Long, Long)](src/main/java/az/qrfood/backend/client/controller/ClientDeviceController.java)                        | Public                                             | /api/client/eatery/{eateryId}/table/{tableId}                         |
| [GET eateryCategories(Long)](src/main/java/az/qrfood/backend/client/controller/ClientDeviceController.java)                              | Public                                             | /api/client/eatery/{eateryId}                                         |
| [POST create(ClientDeviceRequestDto)](src/main/java/az/qrfood/backend/client/controller/ClientDeviceController.java)                     | Public                                             | /api/client                                                           |
| [GET getById(Long)](src/main/java/az/qrfood/backend/client/controller/ClientDeviceController.java)                                       | Public                                             | /api/client/{id}                                                      |
| [GET getAll()](src/main/java/az/qrfood/backend/client/controller/ClientDeviceController.java)                                            | Public                                             | /api/client                                                           |
| [PUT update(Long, ClientDeviceRequestDto)](src/main/java/az/qrfood/backend/client/controller/ClientDeviceController.java)                | Public                                             | /api/client/{id}                                                      |
| [DELETE delete(Long)](src/main/java/az/qrfood/backend/client/controller/ClientDeviceController.java)                                     | Public                                             | /api/client/{id}                                                      |
| **CommonDishController**                                                                                                                 |                                                    |                                                                       |
| [GET getCommonDishesForCategory(String, String)](src/main/java/az/qrfood/backend/dish/controller/CommonDishController.java)              | EATERY_ADMIN                                       | /api/dish/common/{categoryName}                                       |
| [POST createDishesFromTemplates(Long, List\<CommonDishDto\>)](src/main/java/az/qrfood/backend/dish/controller/CommonDishController.java) | EATERY_ADMIN                                       | /api/dish/common/{categoryId}                                         |
| **DishController**                                                                                                                       |                                                    |                                                                       |
| [GET getDish(Long, Long)](src/main/java/az/qrfood/backend/dish/controller/DishController.java)                                           | EATERY_ADMIN, KITCHEN_ADMIN, WAITER                | /api/eatery/{eateryId}/category/{categoryId}/dish/{dishId}            |
| [GET getDishes(Long)](src/main/java/az/qrfood/backend/dish/controller/DishController.java)                                               | EATERY_ADMIN, KITCHEN_ADMIN, WAITER, CASHIER       | /api/eatery/{eateryId}/category/{categoryId}/dish                     |
| [POST createDish(Long, DishDto, MultipartFile)](src/main/java/az/qrfood/backend/dish/controller/DishController.java)                     | EATERY_ADMIN                                       | /api/eatery/{eateryId}/category/{categoryId}/dish                     |
| [DELETE deleteDishItemById(Long, Long)](src/main/java/az/qrfood/backend/dish/controller/DishController.java)                             | EATERY_ADMIN                                       | /api/eatery/{eateryId}/category/{categoryId}/dish/{dishId}            |
| [PUT putDish(Long, Long, DishDto, MultipartFile)](src/main/java/az/qrfood/backend/dish/controller/DishController.java)                   | EATERY_ADMIN                                       | /api/eatery/{eateryId}/category/{categoryId}/dish/{dishId}            |
| **EateryController**                                                                                                                     |                                                    |                                                                       |
| [GET getAllRestaurants()](src/main/java/az/qrfood/backend/eatery/controller/EateryController.java)                                       | Authenticated                                      | /api/eatery                                                           |
| [GET getEateriesByOwnerId(Long)](src/main/java/az/qrfood/backend/eatery/controller/EateryController.java)                                | EATERY_ADMIN                                       | /api/eatery/owner/{ownerId}                                           |
| [GET getEateryById(Long)](src/main/java/az/qrfood/backend/eatery/controller/EateryController.java)                                       | EATERY_ADMIN                                       | /api/eatery/{eateryId}                                                |
| [POST createRestaurant(EateryDto, UserDetails)](src/main/java/az/qrfood/backend/eatery/controller/EateryController.java)                 | EATERY_ADMIN                                       | /api/eatery                                                           |
| [DELETE deleteEatery(Long)](src/main/java/az/qrfood/backend/eatery/controller/EateryController.java)                                     | EATERY_ADMIN                                       | /api/eatery/{eateryId}                                                |
| [PUT updateEatery(Long, EateryDto)](src/main/java/az/qrfood/backend/eatery/controller/EateryController.java)                             | EATERY_ADMIN                                       | /api/eatery/{eateryId}                                                |
| **ImageController**                                                                                                                      |                                                    |                                                                       |
| [GET getEateryImage(String, String, HttpServletResponse)](src/main/java/az/qrfood/backend/image/controller/ImageController.java)         | Public                                             | /image/eatery/{id}/{fileName}                                         |
| [GET getCategoryImage(String, String, HttpServletResponse)](src/main/java/az/qrfood/backend/image/controller/ImageController.java)       | Public                                             | /image/category/{id}/{fileName}                                       |
| [GET getPredefinedCatImage(String, HttpServletResponse)](src/main/java/az/qrfood/backend/image/controller/ImageController.java)          | Public                                             | /image/predefined/category/{fileName}                                 |
| [GET getPredefinedDishImage(String, HttpServletResponse)](src/main/java/az/qrfood/backend/image/controller/ImageController.java)         | Public                                             | /image/predefined/dish/{fileName}                                     |
| [GET getDishImage(String, String, HttpServletResponse)](src/main/java/az/qrfood/backend/image/controller/ImageController.java)           | Public                                             | /image/dish/{id}/{fileName}                                           |
| **FrontendLogController**                                                                                                                |                                                    |                                                                       |
| [POST logFrontendMessage(FrontendLogDTO, HttpServletRequest)](src/main/java/az/qrfood/backend/log/controller/FrontendLogController.java) | Public                                             | /api/logs/frontend                                                    |
| **OrderController**                                                                                                                      |                                                    |                                                                       |
| [GET getAllOrders(String, String)](src/main/java/az/qrfood/backend/order/controller/OrderController.java)                                | EATERY_ADMIN, KITCHEN_ADMIN, WAITER, CASHIER       | /api/order/status/{status}                                            |
| [GET getOrdersByEateryId(Long)](src/main/java/az/qrfood/backend/order/controller/OrderController.java)                                   | EATERY_ADMIN, KITCHEN_ADMIN, WAITER, CASHIER       | /api/order                                                            |
| [GET getOrderById(Long)](src/main/java/az/qrfood/backend/order/controller/OrderController.java)                                          | Public                                             | /api/order/{orderId}                                                  |
| [POST postOrder(HttpServletResponse, Long, OrderDto, String)](src/main/java/az/qrfood/backend/order/controller/OrderController.java)     | Public                                             | /api/order                                                            |
| [PUT updateOrder(Long, OrderDto)](src/main/java/az/qrfood/backend/order/controller/OrderController.java)                                 | EATERY_ADMIN                                       | /api/order/{orderId}                                                  |
| [PUT updateOrderStatus(Long, OrderStatusUpdateDTO)](src/main/java/az/qrfood/backend/order/controller/OrderController.java)               | EATERY_ADMIN, KITCHEN_ADMIN, WAITER                |                                                                       |
| [DELETE deleteOrder(Long)](src/main/java/az/qrfood/backend/order/controller/OrderController.java)                                        | EATERY_ADMIN                                       | /api/order/{orderId}                                                  |
| [GET getOrdersByEateryIdAndStatusCreated(Long, String)](src/main/java/az/qrfood/backend/order/controller/OrderController.java)           | Public                                             | /api/eatery/order/status/created                                      |
| **OrderItemController**                                                                                                                  |                                                    |                                                                       |
| [GET getAllOrderItems()](src/main/java/az/qrfood/backend/orderitem/controller/OrderItemController.java)                                  | EATERY_ADMIN                                       | /api/order/item                                                       |
| [GET getOrderItemsByOrderId(Long)](src/main/java/az/qrfood/backend/orderitem/controller/OrderItemController.java)                        | EATERY_ADMIN, KITCHEN_ADMIN, WAITER, CASHIER       | /api/order/item/order/{orderId}                                       |
| [GET getOrderItemById(Long)](src/main/java/az/qrfood/backend/orderitem/controller/OrderItemController.java)                              | EATERY_ADMIN, KITCHEN_ADMIN, WAITER, CASHIER       | /api/order/item/{orderItemId}                                         |
| [POST postOrderItem(OrderItemDTO)](src/main/java/az/qrfood/backend/orderitem/controller/OrderItemController.java)                        | EATERY_ADMIN                                       | /api/order/item/order/{orderId}                                       |
| [PUT putOrderItem(Long, OrderItemDTO)](src/main/java/az/qrfood/backend/orderitem/controller/OrderItemController.java)                    | EATERY_ADMIN                                       | /api/order/item/{orderItemId}                                         |
| [DELETE deleteOrderItem(Long)](src/main/java/az/qrfood/backend/orderitem/controller/OrderItemController.java)                            | EATERY_ADMIN                                       | /api/order/item/{orderItemId}                                         |
| **QrController**                                                                                                                         |                                                    |                                                                       |
| [GET getQrImage(Long, Integer)](src/main/java/az/qrfood/backend/qr/controller/QrController.java)                                         | EATERY_ADMIN                                       | /api/qr-code/eatery/{eatery}/table/{table}                            |
| **TableController**                                                                                                                      |                                                    |                                                                       |
| [GET getTables(Long)](src/main/java/az/qrfood/backend/table/controller/TableController.java)                                             | EATERY_ADMIN                                       | /api/table                                                            |
| [GET getTable(Long)](src/main/java/az/qrfood/backend/table/controller/TableController.java)                                              | EATERY_ADMIN                                       | /api/table/{tableId}                                                  |
| [POST createTable(TableDto)](src/main/java/az/qrfood/backend/table/controller/TableController.java)                                      | EATERY_ADMIN                                       | /api/table                                                            |
| [PUT updateTable(Long, TableDto)](src/main/java/az/qrfood/backend/table/controller/TableController.java)                                 | EATERY_ADMIN                                       | /api/table/{tableId}                                                  |
| [DELETE deleteTable(Long)](src/main/java/az/qrfood/backend/table/controller/TableController.java)                                        | EATERY_ADMIN                                       | /api/table/{tableId}                                                  |
| **UserController**                                                                                                                       |                                                    |                                                                       |
| [GET getAllUsersFromAllEateries()](src/main/java/az/qrfood/backend/user/controller/UserController.java)                                  | Authenticated                                      | /api/user                                                             |
| [GET getAllUsers()](src/main/java/az/qrfood/backend/user/controller/UserController.java)                                                 | Authenticated                                      | /api/users                                                            |
| [GET getAllEateryUsers(Long)](src/main/java/az/qrfood/backend/user/controller/UserController.java)                                       | EATERY_ADMIN                                       | /api/usr                                                              |
| [GET getUserById(Long)](src/main/java/az/qrfood/backend/user/controller/UserController.java)                                             | EATERY_ADMIN                                       | /api/user/{userId}                                                    |
| [GET getUserByUsername(String)](src/main/java/az/qrfood/backend/user/controller/UserController.java)                                     | EATERY_ADMIN                                       | /api/user/n/{userName}                                                |
| [PUT putUser(Long, UserRequest)](src/main/java/az/qrfood/backend/user/controller/UserController.java)                                    | EATERY_ADMIN                                       | /api/user/{userId}                                                    |
| [DELETE deleteUser(Long)](src/main/java/az/qrfood/backend/user/controller/UserController.java)                                           | EATERY_ADMIN                                       | /api/user/{userId}                                                    |
| [POST registerEateryStaff(RegisterRequest, Long)](src/main/java/az/qrfood/backend/user/controller/UserController.java)                   | EATERY_ADMIN                                       | /api/user/general                                                     |
| [POST deleteUserByName(String)](src/main/java/az/qrfood/backend/user/controller/UserController.java)                                     | SUPER_ADMIN                                        | /api/usr/delete                                                       |